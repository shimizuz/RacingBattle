//==============================================================================
//
// イベント
// Author : Shimizu Shoji
//
// イベント処理のラッパ
//
//==============================================================================
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// include
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
#include <Windows.h>
#include "event.h"

//------------------------------------------------
// ctor
//------------------------------------------------
Event::Event(const bool manual_reset, const bool is_signaled) : h_event_(nullptr){
  h_event_ = CreateEvent(nullptr, manual_reset, is_signaled, nullptr);
}

//------------------------------------------------
// dtor
//------------------------------------------------
Event::~Event() {
  CloseHandle(h_event_);
}

//------------------------------------------------
// Set
//------------------------------------------------
void Event::Set(void) {
  SetEvent(h_event_);
}

//------------------------------------------------
// Reset
//------------------------------------------------
void Event::Reset(void) {
  ResetEvent(h_event_);
}

//------------------------------------------------
// 待機する。
// -1なら無限待ち。
//------------------------------------------------
void Event::Wait(const int wait_time) {
  WaitForSingleObject(h_event_, wait_time);
}